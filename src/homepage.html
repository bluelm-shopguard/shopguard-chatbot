<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>ShopGuard AI - 购物防诈骗助手</title>
    <link rel="stylesheet" href="common/styles/homepage.css">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
</head>

<body>
    <div class="sidebar-overlay"></div>
    <aside class="sidebar">
        <header class="sidebar__header">
            <h2 class="sidebar__title">历史对话</h2>
            <button class="header-button close-sidebar-button" aria-label="Close sidebar">
                <i data-lucide="x"></i>
            </button>
        </header>
        <div class="sidebar__content">
            <!-- Conversation history will be implemented later -->
        </div>
        <footer class="sidebar__footer">
            <div class="account-info">
                <div class="account-info__avatar">
                    <i data-lucide="user-circle"></i>
                </div>
                <span class="account-info__name">Username</span>
            </div>
            <a href="pages/setting.html" class="settings-button" aria-label="Settings">
                <i data-lucide="settings"></i>
            </a>
        </footer>
    </aside>

    <div class="chat-app">
        <header class="chat-header">
            <button class="header-button open-sidebar-button" aria-label="Toggle sidebar">
                <i data-lucide="panel-left"></i>
            </button>
            <h1 class="chat-header__title">ShopGuard AI</h1>
            <button class="header-button" aria-label="New chat">
                <i data-lucide="square-plus"></i>
            </button>
        </header>

        <main class="chat-content">
            <div class="chat-content__welcome">
                <img src="common/images/logo.jpeg" alt="ShopGuard AI Logo" class="welcome-logo">
                <h2 class="welcome-title">购物防诈骗助手</h2>
                <p class="welcome-message">
                    遇到可疑商品、卖家或付款方式？随时发给我分析。无论是商品截图、链接还是聊天记录，我都会帮你识别风险，提供明确的“虚假诈骗风险星级”和建议，让我们一起安心购物不踩坑！
                </p>
            </div>
            <!-- Chat messages will be dynamically added here -->
        </main>

        <footer class="chat-input-area">
            <div class="input-area__toolbar">
                <button class="toolbar-button" aria-label="Attach file">
                    <i data-lucide="paperclip"></i>
                    <span>附件</span>
                </button>
                <button class="toolbar-button" aria-label="Web search">
                    <i data-lucide="globe"></i>
                    <span>搜索</span>
                </button>
            </div>
            <div class="input-area__input-wrapper">
                <div class="input-area__text-input" contenteditable="true" role="textbox"
                    data-placeholder="发消息给我分析一下..."></div>
                <button class="send-button" aria-label="Send message">
                    <i data-lucide="arrow-up"></i>
                </button>
            </div>
        </footer>
    </div>

    <script>
        lucide.createIcons();

        const sidebar = document.querySelector('.sidebar');
        const sidebarOverlay = document.querySelector('.sidebar-overlay');
        const openSidebarButton = document.querySelector('.open-sidebar-button');
        const closeSidebarButton = document.querySelector('.close-sidebar-button');

        function openSidebar() {
            sidebar.classList.add('active');
            sidebarOverlay.classList.add('active');
        }

        function closeSidebar() {
            sidebar.classList.remove('active');
            sidebarOverlay.classList.remove('active');
        }

        openSidebarButton.addEventListener('click', openSidebar);
        closeSidebarButton.addEventListener('click', closeSidebar);
        sidebarOverlay.addEventListener('click', closeSidebar);
    </script>
</body>

</html>