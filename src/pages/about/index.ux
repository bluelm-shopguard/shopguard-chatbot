<!-- TODO rewrite about page -->
<template>
  <div class="page-container">
    <div class="header">
      <div class="back-button" onclick="goBack">
        <text class="back-icon">←</text>
      </div>
      <text class="header-title">关于我们</text>
    </div>
    
    <div class="about-container">
      <div class="logo-container">
        <text class="logo-text">SG</text>
        <text class="app-name">ShopGuard AI</text>
        <text class="app-version">v{{appVersion}}</text>
      </div>
      
      <div class="about-section">
        <text class="about-title">项目概述</text>
        <text class="about-text">
          ShopGuard AI 是一款专为识别购物诈骗风险设计的智能助手应用。用户可以发送商品截图、链接或聊天记录，AI 将分析内容并提供风险评估。
        </text>
      </div>
      
      <div class="about-section">
        <text class="about-title">主要功能</text>
        <div class="feature-item">
          <text class="feature-icon">🔍</text>
          <text class="feature-text">图片识别：分析商品图片中的风险信息</text>
        </div>
        <div class="feature-item">
          <text class="feature-icon">🔗</text>
          <text class="feature-text">链接分析：检测可疑购物链接</text>
        </div>
        <div class="feature-item">
          <text class="feature-icon">💬</text>
          <text class="feature-text">聊天记录分析：识别卖家聊天中的诈骗迹象</text>
        </div>
        <div class="feature-item">
          <text class="feature-icon">⭐</text>
          <text class="feature-text">风险评级：提供直观的"诈骗风险星级"评分</text>
        </div>
        <div class="feature-item">
          <text class="feature-icon">🛡️</text>
          <text class="feature-text">购物建议：针对不同风险提供专业防骗建议</text>
        </div>
      </div>
      
      <div class="about-section">
        <text class="about-title">联系我们</text>
        <text class="about-text">
          官方网站: https://shopguard.ai
          邮箱: contact@shopguard.ai
        </text>
      </div>
      
      <div class="copyright">
        <text>© 2025 ShopGuard AI Team</text>
      </div>
    </div>
  </div>
</template>

<script>
import router from '@system.router'

export default {
  data() {
    return {
      appVersion: '1.0.0'
    }
  },
  
  onInit() {
    try {
      // Get app version from manifest or globalData
      const app = this.$app.$def
      if (app) {
        if (app.manifest && app.manifest.versionName) {
          this.appVersion = app.manifest.versionName
        } else if (app.globalData && app.globalData.version) {
          this.appVersion = app.globalData.version
        }
        console.log('Setting app version:', this.appVersion)
      }
    } catch (error) {
      console.error('Error in about page onInit:', error)
    }
  },
  
  methods: {
    // Go back
    goBack() {
      router.back()
    }
  }
}
</script>

<style lang="less">
@import '../../common/styles/theme.less';

.page-container {
  flex-direction: column;
  background-color: @background-color;
  width: 100%;
  height: 100%;
}

.header {
  flex-direction: row;
  align-items: center;
  padding: 20px;
  background-color: @component-background;
  width: 100%;
  border-bottom: 1px solid @border-color;
}

.back-button {
  width: 60px;
  height: 60px;
  align-items: center;
  justify-content: center;
}

.back-icon {
  font-size: @font-size-xlarge;
  color: @text-color-primary;
}

.header-title {
  flex: 1;
  font-size: @font-size-xlarge;
  font-weight: bold;
  text-align: center;
  margin-right: 60px;
  color: @text-color-primary;
}

.about-container {
  flex: 1;
  flex-direction: column;
  width: 100%;
  padding: 30px;
}

.logo-container {
  align-items: center;
  margin-bottom: 40px;
}

.logo-text {
  width: 120px;
  height: 120px;
  border-radius: 60px;
  background-color: @primary-color;
  color: @text-color-inverse;
  font-size: 60px;
  text-align: center;
  line-height: 120px;
}

.app-name {
  font-size: @font-size-xxlarge;
  font-weight: bold;
  color: @text-color-primary;
  margin-top: 20px;
}

.app-version {
  font-size: @font-size-large;
  color: @text-color-tertiary;
  margin-top: 10px;
}

.about-section {
  margin-bottom: 30px;
}

.about-title {
  font-size: @font-size-xlarge;
  font-weight: bold;
  color: @text-color-primary;
  margin-bottom: 20px;
}

.about-text {
  font-size: @font-size-medium;
  color: @text-color-secondary;
  line-height: 1.5;
}

.feature-item {
  flex-direction: row;
  align-items: center;
  margin-bottom: 15px;
}

.feature-icon {
  font-size: @font-size-xlarge;
  margin-right: 15px;
}

.feature-text {
  font-size: @font-size-medium;
  color: @text-color-secondary;
  flex: 1;
}

.copyright {
  margin-top: 40px;
  align-items: center;
}

.copyright text {
  font-size: @font-size-small;
  color: @text-color-tertiary;
}
</style>
